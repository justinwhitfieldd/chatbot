[{"C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\chatbox.jsx":"1","C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\layout.tsx":"2","C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\page.tsx":"3","C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\splashpage.jsx":"4"},{"size":5893,"mtime":1690921489491,"results":"5","hashOfConfig":"6"},{"size":331,"mtime":1690921234150,"results":"7","hashOfConfig":"6"},{"size":2218,"mtime":1690897890171,"results":"8","hashOfConfig":"6"},{"size":5365,"mtime":1690897452160,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","suppressedMessages":"12","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},"186j5dl",{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\chatbox.jsx",["23","24"],[],"\"use client\";\r\n\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { io } from \"socket.io-client\";\r\nimport SplashPage from './splashpage'\r\nimport Image from 'next/image';\r\n\r\nconst socket = io('http://localhost:5000/test');\r\nconst initialList = [{ role: \"assistant\", content: \"Hi, is there anything I can help you with?\" }];\r\n\r\nconst ChatBox = ({ inputValue }) => {\r\n    const messagesEndRef = useRef(null);\r\n    const [list, setList] = useState(initialList);\r\n\r\n    useEffect(() => {\r\n        if (inputValue != '') {\r\n            const updatedList = [...list, { role: \"user\", content: inputValue }];\r\n\r\n            let socketjson = updatedList.map(({ products, ...item }) => item)\r\n            socket.emit('my_event', socketjson);\r\n            console.log(\"emmitting \" + JSON.stringify(socketjson));\r\n\r\n            setList(updatedList);\r\n        }\r\n    }, [inputValue]);\r\n\r\n    socket.on(\"my_response\", (msg) => {\r\n        console.log(msg)\r\n        const updatedList = [...list, { role: \"assistant\", content: msg.data, products: msg.products }];\r\n        setList(updatedList);\r\n    });\r\n    useEffect(() => {\r\n        if (messagesEndRef.current) {\r\n            messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n    }, [list]); // Scroll to bottom whenever list changes\r\n    return (\r\n        <div className=\"flex justify-items-center text-white\">\r\n            <div className=\"flex flex-col w-screen space-y-4 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch\">\r\n                <SplashPage />\r\n                {list.map((item, index) => (\r\n                    item.role == 'assistant' ?\r\n                        <div className=\"chat-message\" key={index}>\r\n                            <div className=\"flex items-end\">\r\n                                <div className=\"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start\">\r\n                                    <div>\r\n                                        <span className=\"px-4 py-2 rounded-lg inline-block rounded-bl-none bg-gray-300 text-gray-600\">\r\n                                            {item.content}\r\n                                        </span>\r\n                                    </div>\r\n                                    {item.products && item.products.map((product, productIndex) => (\r\n                                        <div key={productIndex}>\r\n                                            <span className=\"max-w-xs auto-cols-max px-4 py-2 rounded-lg flex rounded-bl-none bg-gray-300 text-gray-600\">\r\n\r\n                                                <Image\r\n                                                    src={product.image}\r\n                                                    className=\"h-20 w-20\"\r\n                                                />\r\n                                                <div className='w-full px-4'>\r\n                                                    <div className='text-m font-bold justify-center w-full'>\r\n                                                        {product.name}\r\n                                                    </div>\r\n                                                    <div  className='text-s justify-center max-w-xs'>\r\n                                                        {product.price}\r\n                                                    </div>\r\n                                                    <a href={product.link}>\r\n                                                        <button\r\n                                                            className='text-white bg-black px-2 py-2'\r\n                                                        >\r\n                                                            Learn More\r\n                                                        </button>\r\n                                                    </a>\r\n                                                </div>\r\n                                            </span>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <Image\r\n                                    src=\"https://images.unsplash.com/photo-1549078642-b2ba4bda0cdb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=144&h=144\"\r\n                                    alt=\"My profile\"\r\n                                    className=\"w-6 h-6 rounded-full order-1\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div className=\"chat-message\" key={index}>\r\n                            <div className=\"flex items-end justify-end\">\r\n                                <div className=\"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-1 items-end\">\r\n                                    <div>\r\n                                        <span className=\"px-4 py-2 rounded-lg inline-block rounded-br-none bg-green-900 text-white\">\r\n                                            {item.content}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <Image\r\n                                    src=\"https://images.unsplash.com/photo-1590031905470-a1a1feacbb0b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=144&h=144\"\r\n                                    alt=\"My profile\"\r\n                                    className=\"w-6 h-6 rounded-full order-2\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                ))}\r\n                <div ref={messagesEndRef}></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default ChatBox;","C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\layout.tsx",[],[],"C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\page.tsx",[],[],"C:\\Users\\jwhitfie\\olai\\frontend\\src\\app\\splashpage.jsx",[],[],{"ruleId":"25","severity":1,"message":"26","line":25,"column":8,"nodeType":"27","endLine":25,"endColumn":20,"suggestions":"28"},{"ruleId":"29","severity":1,"message":"30","line":55,"column":49,"nodeType":"31","endLine":58,"endColumn":51},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'list'. Either include it or remove the dependency array.","ArrayExpression",["32"],"jsx-a11y/alt-text","Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",{"desc":"33","fix":"34"},"Update the dependencies array to be: [inputValue, list]",{"range":"35","text":"36"},[874,886],"[inputValue, list]"]